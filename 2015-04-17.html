<!DOCTYPE html><html><head><meta charset="utf-8"><link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png"><link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192"><link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#f2df43"><meta name="msapplication-TileImage" content="/mstile-144x144.png"><meta name="theme-color" content="#ffffff"><title>io.js ウィークリーアップデート 2015/04/17</title><link href="/index.css" rel="stylesheet" type="text/css"><meta property="og:title" content="io.js ウィークリーアップデート 2015/04/17"><meta property="og:type" content="article"><meta property="og:url" content="http://blog.iojs.jp/2015-04-17.html"><meta property="og:image" content="http://blog.iojs.jp/logo.png"><meta property="og:description" content="SealHandleScope API、ARMサポート改善、npmプライベートモジュール"><meta property="og:locale" content="ja_JP"></head><body><a href="/"><img src="/logo.png" class="minilogo"></a><article><h1>io.js ウィークリーアップデート 2015/04/17</h1>
<p>SealHandleScope API、ARMサポート改善、npmプライベートモジュール</p>
<!--
# io.js 1.7 releases
-->
<h2>io.js 1.7 リリース</h2>
<!--
This week we had two io.js releases [v1.7.0](https://iojs.org/dist/v1.7.0/) and [v1.7.1](https://iojs.org/dist/v1.7.1/), complete changelog can be found [on GitHub](https://github.com/iojs/io.js/blob/v1.x/CHANGELOG.md).
-->
<p>今週は io.js の <a href="https://iojs.org/dist/v1.7.0/">v1.7.0</a> と <a href="https://iojs.org/dist/v1.7.1/">v1.7.1</a> のリリースを行いました。完全なチェンジログは <a href="https://github.com/iojs/io.js/blob/v1.x/CHANGELOG.md">GitHub</a> で確認できます。</p>
<!--
### Notable changes
-->
<h3>主な変更点</h3>
<h4>1.7</h4>
<!--
* **build**: A syntax error in the Makefile for release builds caused 1.7.0 to be DOA and unreleased. (Rod Vagg) [#1421](https://github.com/iojs/io.js/pull/1421).
* **C++ API**: Fedor Indutny contributed a feature to V8 which has been backported to the V8 bundled in io.js. `SealHandleScope` allows a C++ add-on author to _seal_ a `HandleScope` to prevent further, unintended allocations within it. Currently only enabled for debug builds of io.js. This feature helped detect the leak in [#1075](https://github.com/iojs/io.js/issues/1075) and is now activated on the root `HandleScope` in io.js. (Fedor Indutny) [#1395](https://github.com/iojs/io.js/pull/1395).
* **ARM**: This release includes significant work to improve the state of ARM support for builds and tests. The io.js CI cluster's ARMv6, ARMv7 and ARMv8 build servers are now all (mostly) reporting passing builds and tests.
  * ARMv8 64-bit (AARCH64) is now properly supported, including a backported fix in libuv that was mistakenly detecting the existence of `epoll_wait()`. (Ben Noordhuis) [#1365](https://github.com/iojs/io.js/pull/1365).
  * ARMv6: [#1376](https://github.com/iojs/io.js/issues/1376) reported a problem with `Math.exp()` on ARMv6 (including Raspberry Pi). The culprit is erroneous codegen for ARMv6 when using the "fast math" feature of V8. `--nofast_math` has been turned on for all ARMv6 variants by default to avoid this, fast math can be turned back on with `--fast_math`. (Ben Noordhuis) [#1398](https://github.com/iojs/io.js/pull/1398).
  * Tests: timeouts have been tuned specifically for slower platforms, detected as ARMv6 and ARMv7. (Roman Reiss) [#1366](https://github.com/iojs/io.js/pull/1366).
* **npm**: Upgrade npm to 2.7.6. See the [release notes](https://github.com/npm/npm/releases/tag/v2.7.6) for details.
-->
<ul>
<li><strong>build</strong>: 公開前に修正が発生し、リリースされなかった <code>1.7.0</code> で発生した、Makefileのリリースビルドに関する記述のシンタックスエラーを修正 <a href="https://github.com/iojs/io.js/pull/1421">#1421</a>(Rod Vagg)。</li>
<li><strong>C++ API</strong>: Fedor Indutny は、io.jsにバンドルされ、バックポートされているV8の機能の実装に貢献しました。 <code>SealHandleScope</code> は、<code>HandleScope</code> の中で意図していないメモリアロケーションを防ぐために、C++ アドオンの作者が_seal_できるようになります。この機能は、<a href="https://github.com/iojs/io.js/issues/1075">#1075</a> のメモリリークを検出する手助けになります。また、<a href="https://github.com/iojs/io.js/pull/1395">#1395</a>(Fedor Indutny) にて、io.jsのルートの <code>HandleScope</code>で有効化されました。</li>
<li><strong>ARM</strong>: このリリースには、ARMでのビルドとテストのサポート状況を改善するための重要な実装が含まれています。io.jsのARMv6・ARMv7・ARMv8が載っているCIクラスターは、全ての(主に)ビルドとテストが通ったことをレポートしました。
<ul>
<li>ARMv8 64-bit (AARCH64) は、<code>epoll_wait()</code>の存在が誤って検知されてしまうlibuvのバックポートの修正を含め、適切にサポートされています。<a href="https://github.com/iojs/io.js/pull/1365">#1365</a>(Ben Noordhuis)</li>
<li>ARMv6: ARMv6 (Raspberry Piを含む) では、<code>Math.exp()</code>に関する問題が <a href="https://github.com/iojs/io.js/pull/1376">#1376</a> にて報告されています。&quot;fast math&quot; 機能をV8で使う際に発生する問題の原因は、ARMv6向けの誤ったコードジェネレーターです。<code>--nofast_math</code>オプションは、これを避けるために全てのARMv6のバリアントでデフォルト有効化されています。fast mathを再び有効化するには、<code>--fast_math</code>オプションを使います。<a href="https://github.com/iojs/io.js/pull/1398">#1398</a>(Ben Noordhuis)</li>
<li>Tests: ARMv6 以降、及び ARMv7 では、動作の遅いプラットフォーム向けにタイムアウトの時間を調整しています。<a href="https://github.com/iojs/io.js/pull/1366">#1366</a>(Roman Reiss)</li>
</ul>
</li>
<li><strong>npm</strong>: バージョンを<code>2.7.6</code>にアップデート。詳細は <a href="https://github.com/npm/npm/releases/tag/v2.7.6">release notes</a> を参照してください。</li>
</ul>
<!--
### Known issues
-->
<h3>既知の問題</h3>
<!--
* Some problems with unreferenced timers running during `beforeExit` are still to be resolved. See [#1264](https://github.com/iojs/io.js/issues/1264).
* Surrogate pair in REPL can freeze terminal [#690](https://github.com/iojs/io.js/issues/690)
* `process.send()` is not synchronous as the docs suggest, a regression introduced in 1.0.2, see [#760](https://github.com/iojs/io.js/issues/760) and fix in [#774](https://github.com/iojs/io.js/issues/774)
* Calling `dns.setServers()` while a DNS query is in progress can cause the process to crash on a failed assertion [#894](https://github.com/iojs/io.js/issues/894)
* readline: split escapes are processed incorrectly, see [#1403](https://github.com/iojs/io.js/issues/1403)
-->
<ul>
<li><code>beforeExit</code> が実行されている最中の非参照のtimersに起因するいくつかの問題は、まだ解決されていません。詳細は <a href="https://github.com/iojs/io.js/issues/1264">#1264</a> を参照して下さい。</li>
<li>REPL 内のサロゲートペアがターミナルのフリーズを引き起こすことがあります。 <a href="https://github.com/iojs/io.js/issues/690">#690</a></li>
<li><code>process.send()</code> はドキュメントに記述されている通り、本来は同期的に実行されるはずですが、<code>1.0.2</code> にて発生した不具合により非同期的に呼び出されてしまうようになりました。詳細は <a href="https://github.com/iojs/io.js/issues/760">#760</a> を、修正については <a href="https://github.com/iojs/io.js/issues/774">#774</a> を参照して下さい。</li>
<li><code>dns.setServers()</code> を呼び出している間の DNS クエリが、進行中にアサーションに失敗してプロセスをクラッシュさせることがあります。<a href="https://github.com/iojs/io.js/issues/894">#894</a></li>
<li>readline: エスケープ処理の分割が正しく動作しません。詳細は <a href="https://github.com/iojs/io.js/issues/1403">#1403</a> を参照してください。</li>
</ul>
<!--
### Community Updates
-->
<h2>コミュニティアップデート</h2>
<!--
* Difference between io.js and The Node Foundation [iojs/io.js#1416](https://github.com/iojs/io.js/issues/1416).
* NPM launches private modules and npm inc [raises](http://techcrunch.com/2015/04/14/popular-javascript-package-manager-npm-raises-8m-launches-private-modules/).
* Thoughts of Node.js Foundation on [Medium](https://medium.com/@programmer/thoughts-on-node-foundation-abcf86c72786).
* io.js v1.8.0 crypto performance on [io.js wiki](https://github.com/iojs/io.js/wiki/Crypto-Performance-Notes-for-OpenSSL-1.0.2a-on-iojs-v1.8.0).
* io.js mention on [Oracle's blog](https://blogs.oracle.com/java-platform-group/entry/node_js_and_io_js).
* State of the io.js Build [April 2015](https://github.com/iojs/build/issues/77)
-->
<ul>
<li>io.js と Node Foundationの違いについて <a href="https://github.com/iojs/io.js/issues/1416">iojs/io.js#1416</a>.</li>
<li>NPM はプライベートモジュールをリリース、npm incは資金調達を実施 <a href="http://techcrunch.com/2015/04/14/popular-javascript-package-manager-npm-raises-8m-launches-private-modules/">raises</a>.</li>
<li>Node Foundationについて思うこと <a href="https://medium.com/@programmer/thoughts-on-node-foundation-abcf86c72786">Medium</a>.</li>
<li>io.js v1.8.0のcryptoのパフォーマンスについて <a href="https://github.com/iojs/io.js/wiki/Crypto-Performance-Notes-for-OpenSSL-1.0.2a-on-iojs-v1.8.0">io.js wiki</a>.</li>
<li>io.js への言及 <a href="https://blogs.oracle.com/java-platform-group/entry/node_js_and_io_js">Oracle's blog</a>.</li>
<li>io.jsのビルド状況について <a href="https://github.com/iojs/build/issues/77">April 2015</a>.</li>
</ul>
<!--
### Upcoming Events
-->
<h2>今後開催されるイベント</h2>
<!--
* [JSConf Uruguay](http://jsconf.uy) tickets are on sale, April 24th & 25th at Montevideo, Uruguay
* [NodeConf Adventure](http://nodeconf.com/) tickets are on sale, June 11th - 14th at Walker Creek Ranch, CA
* [CascadiaJS](http://2015.cascadiajs.com/) tickets are on sale, July 8th - 10th at Washington State
* [NodeConf EU](http://nodeconf.eu/) tickets are on sale, September 6th - 9th at Waterford, Ireland
-->
<ul>
<li><a href="http://jsconf.uy">JSConf Uruguay</a> のチケットが販売中です。4月24-25日にウルグアイのモンテビデオにて開催されます。</li>
<li><a href="http://nodeconf.com/">NodeConf Adventure</a> が6月11-14日にカリフォルニアのウォーカークリークランチにて開催されます。</li>
<li><a href="http://2015.cascadiajs.com/">CascadiaJS</a> のチケットが販売中です。7月8-10日にワシントン州にて開催されます。</li>
<li><a href="http://nodeconf.eu/">NodeConf EU</a> のチケットが販売中です。9月6-9日にアイルランドのウォーターフォードにて開催されます。</li>
</ul>
</article><footer><a href="https://github.com/iojs-jp">Organization</a><span>|</span><a href="https://github.com/iojs-jp/blog">Repository</a><span>|</span><a href="https://twitter.com/iojs_jp">Twitter</a></footer></body></html>